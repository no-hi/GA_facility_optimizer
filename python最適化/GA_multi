def create_shared_list(dimensions):
    manager = multiprocessing.Manager()
    def recursive_list_creation(dims, depth=0):
        if depth < len(dims) - 1:
            return manager.list([recursive_list_creation(dims, depth + 1) for _ in range(dims[depth])])
        else:
            return manager.list([manager.list() for _ in range(dims[-1])])
    return recursive_list_creation(dimensions)

dimnsions = [3, 3, 3]  # ここで各次元のサイズを指定
shared_list_3d = create_shared_list(dimensions)

# 生成したリストの構造を表示
shared_list_3d